<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Portfolio</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700;900&display=swap" rel="stylesheet">

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
}

body{
  font-family:'Poppins',sans-serif;
  background: linear-gradient(120deg, #f6f2ec 0%, #efe6d9 50%, #fbf9f7 100%);
  background-size: 300% 300%;
  animation: bgShift 12s ease infinite;
  display:flex;
  flex-direction:column;
  justify-content:flex-start;
  align-items:center;
  padding:50px 0;
  min-height:100vh;
}

@keyframes bgShift{
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}

/* ===== TITLE ===== */
h1{
  font-size:90px;
  font-weight:900;
  letter-spacing:6px;
  margin-bottom:40px;
}

/* ===== PROFILE SECTION ===== */
.profile-container{
  display:flex;
  gap:80px;
  flex-wrap:wrap;
  justify-content:center;
}

.profile-card{
  width:260px;
  background:rgb(231, 227, 227);
  border-radius:20px;
  padding:20px;
  text-align:center;
  box-shadow:0 20px 40px rgba(251, 250, 250, 0.08);
  transition:0.4s;
  cursor:pointer;
  position:relative;
  outline: none;
}

.profile-card:hover{
  transform:translateY(-10px);
}
.profile-card:focus{
  box-shadow:0 10px 30px rgba(139,115,85,0.12);
  transform:translateY(-8px);
  border-radius:20px;
}

.profile-card .inner{
  border-radius:15px;
  transition:transform .18s ease, box-shadow .18s ease;
  transform-style:preserve-3d;
}

.profile-card img{
  width:100%;
  border-radius:12px;
  margin-bottom:15px;
}

.profile-card h3{
  font-weight:600;
}

.profile-card .decor{
  position:absolute;
  top:-18px;
  left:-18px;
  width:60px;
  height:60px;
  border-radius:50%;
  background:rgba(139,115,85,0.08);
  pointer-events:none;
  animation: float 6s ease-in-out infinite;
}

@keyframes float{
  0%{transform:translateY(0);}
  50%{transform:translateY(-8px);}
  100%{transform:translateY(0);}
}

.rsvp-btn{
  margin-top:12px;
  padding:8px 14px;
  background:#8b7355;
  color:#fff;
  border:none;
  border-radius:20px;
  cursor:pointer;
  box-shadow:0 6px 18px rgba(139,115,85,0.18);
  transition:transform .18s ease, box-shadow .18s ease, opacity .18s ease;
}
.rsvp-btn:active{transform:scale(.98);}
.rsvp-btn:hover{opacity:.95}

/* Modal styles */
.modal{
  position:fixed;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  background:rgba(10,10,10,0.45);
  z-index:60;
}
.modal.open{ display:flex; }
.modal-content{
  width:min(520px, 92%);
  background:#fff;
  border-radius:14px;
  padding:22px;
  box-shadow:0 30px 80px rgba(20,20,20,0.2);
  transform-origin:center;
  animation: pop .22s ease;
}
@keyframes pop{ from{opacity:0; transform:scale(.98);} to{opacity:1; transform:scale(1);} }
.modal .close{
  border:0;
  background:transparent;
  font-size:22px;
  position:absolute;
  top:14px;
  right:18px;
  cursor:pointer;
}

/* Toast */
.toast{
  position:fixed;
  left:50%;
  bottom:28px;
  transform:translateX(-50%);
  background:#8b7355;
  color:#fff;
  padding:10px 16px;
  border-radius:999px;
  box-shadow:0 8px 30px rgba(139,115,85,0.16);
  display:none;
  z-index:70;
}
.toast.show{ display:block; animation:toastIn .28s ease; }
@keyframes toastIn{ from{opacity:0; transform:translate(-50%,8px);} to{opacity:1; transform:translate(-50%,0);} }

@media(max-width:768px){
  h1{ font-size:50px; }
  .profile-container{ gap:40px; }
}

/* LUXURY PHOTO BOX */
.image-box {
  position: relative;
  width: 100%;
  border-radius: 35px;
  margin-bottom: 25px;
  overflow: hidden;
  border: 1px solid rgba(212, 175, 55, 0.2);
  box-shadow: 0 20px 40px rgba(0,0,0,0.5);
}

.profile-card img { width: 100%; display: block; transition: 1s ease; filter: saturate(0.8); }
.profile-card:hover img { transform: scale(1.1); filter: saturate(1.1); }

.profile-card h3 {
  font-weight: 500;
  letter-spacing: 3px;
  margin-bottom: 15px;
  font-size: 22px;
}
</style>
</head>

<body>

<h1>PORTFOLIO</h1>

<div class="profile-container">
  <div class="profile-card" tabindex="0" data-name="Sambhrama" data-link="sambhrama.html">
    <span class="decor"></span>
    <div class="inner">
      <img src="sam.jpg" alt="Sambhrama">
      <h3>SAMBHRAMA</h3>
      <button class="rsvp-btn" data-name="Sambhrama">RSVP</button>
    </div>
  </div>

  <div class="profile-card" tabindex="0" data-name="Ashwini" data-link="ashwini.html">
    <span class="decor"></span>
    <div class="inner">
      <img src="ash.jpg" alt="Ashwini">
      <h3>ASHWINI</h3>
      <button class="rsvp-btn" data-name="Ashwini">RSVP</button>
    </div>
  </div>
</div>

<div id="modal" class="modal" aria-hidden="true">
  <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <button class="close" aria-label="Close">&times;</button>
    <h2 id="modal-title"></h2>
    <p id="modal-desc"></p>
    <div style="margin-top:14px; text-align:right;">
      <button class="rsvp-btn modal-rsvp" data-name="">RSVP</button>
    </div>
  </div>
</div>

<div id="toast" class="toast" role="status" aria-live="polite"></div>

<script>
const cards = document.querySelectorAll('.profile-card');
cards.forEach(card => {
  const inner = card.querySelector('.inner');
  
  // Hover Tilt effect
  card.addEventListener('mousemove', (e) => {
    const rect = card.getBoundingClientRect();
    const x = e.clientX - rect.left - rect.width/2;
    const y = e.clientY - rect.top - rect.height/2;
    inner.style.transform = `perspective(700px) rotateX(${(-y/20)}deg) rotateY(${(x/20)}deg)`;
  });

  card.addEventListener('mouseleave', () => {
    inner.style.transform = '';
  });

  // CLICK LOGIC: Redirect if data-link exists
  card.addEventListener('click', (e) => {
    if (e.target.closest('.rsvp-btn')) return;
    
    // Check if the current card has a data-link attribute
    if(card.dataset.link) {
      window.location.href = card.dataset.link; 
    } else {
      openProfileModal(card.dataset.name, card.dataset.desc);
    }
  });

  card.addEventListener('keydown', (e) => {
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      if(card.dataset.link) {
        window.location.href = card.dataset.link;
      } else {
        openProfileModal(card.dataset.name, card.dataset.desc);
      }
    }
  });
});

// Modal and RSVP Logic
const modal = document.getElementById('modal');
const modalTitle = document.getElementById('modal-title');
const modalDesc = document.getElementById('modal-desc');
const closeBtn = modal.querySelector('.close');

function openProfileModal(name, desc){
  modalTitle.textContent = name || '';
  modalDesc.textContent = desc || '';
  modal.classList.add('open');
  modal.setAttribute('aria-hidden','false');
  const modalRsvp = modal.querySelector('.modal-rsvp');
  modalRsvp.dataset.name = name;
  closeBtn.focus();
}

function closeProfileModal(){
  modal.classList.remove('open');
  modal.setAttribute('aria-hidden','true');
}

closeBtn.addEventListener('click', closeProfileModal);
modal.addEventListener('click', (e) => { if (e.target === modal) closeProfileModal(); });
document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeProfileModal(); });

const toast = document.getElementById('toast');
function showToast(text){
  toast.textContent = text;
  toast.classList.add('show');
  setTimeout(()=> toast.classList.remove('show'), 2200);
}

function setRsvpState(btn){
  const name = btn.dataset.name;
  if (!name) return;
  localStorage.setItem('rsvp_' + name, '1');
  btn.textContent = 'Thanks!';
  btn.disabled = true;
  btn.style.opacity = '.75';
  showToast(`RSVP received for ${name}`);
}

document.querySelectorAll('.rsvp-btn').forEach(btn => {
  const name = btn.dataset.name;
  if (localStorage.getItem('rsvp_' + name) === '1'){
    btn.textContent = 'Thanks!';
    btn.disabled = true;
    btn.style.opacity = '.75';
  }
  btn.addEventListener('click', (e) => {
    e.stopPropagation();
    if (btn.disabled) return;
    setRsvpState(btn);
  });
});

modal.addEventListener('click', (e) => {
  if (e.target.classList.contains('modal-rsvp')) setRsvpState(e.target);
});
</script>
</body>
</html>